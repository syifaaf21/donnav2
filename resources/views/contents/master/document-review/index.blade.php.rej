diff a/resources/views/contents/master/document-review/index.blade.php b/resources/views/contents/master/document-review/index.blade.php	(rejected hunks)
@@ -601,21 +601,117 @@
                     const tsEditPart = new TomSelect('#editPartNumberSelect{{ $mapping->id }}', {
                         create: false
                     });
-                    const tsEditParent = new TomSelect('#editParentDocumentSelect{{ $mapping->id }}', {
-                        create: false
+                    const tsEditParent = new TomSelect('#editParentSelect{{ $mapping->id }}', {
+                        create: false,
+                        valueField: 'value',
+                        labelField: 'text',
+                        searchField: ['text'],
                     });
 
+                    window['tsEditParent{{ $mapping->id }}'] = tsEditParent;
+                    window['tsEditPlant{{ $mapping->id }}'] = tsEditPlant;
+
+                    // ===============================
+                    // ðŸ”¹ Load Parent Documents
+                    // ===============================
+                    function loadParentDocuments(plant) {
+                        return new Promise((resolve) => {
+                            const selectedParent = $('#editParentSelect{{ $mapping->id }}').data(
+                                'selected');
+                            tsEditParent.clearOptions();
+
+                            if (!plant) return resolve();
+
+                            fetch(`/api/parent-documents?plant=${encodeURIComponent(plant)}`)
+                                .then(res => res.json())
+                                .then(data => {
+                                    const options = data.map(doc => ({
+                                        value: doc.value,
+                                        text: doc.text
+                                    }));
+                                    tsEditParent.addOptions(options);
+
+                                    if (selectedParent) tsEditParent.setValue(selectedParent);
+                                    lastParentValue = tsEditParent.getValue();
+                                    resolve();
+                                })
+                                .catch(() => {
+                                    tsEditParent.clearOptions();
+                                    resolve();
+                                });
+                        });
+                    }
+
+                    // ===============================
+                    // ðŸ”¹ Load Initial Part Numbers
+                    // ===============================
+                    function loadInitialPartNumbers(plant = null) {
+                        let url = '/api/part-numbers';
+                        if (plant) url += `?plant=${encodeURIComponent(plant)}`;
+                        return fetch(url)
+                            .then(res => res.json())
+                            .then(data => {
+                                const options = data.map(item => ({
+                                    value: item.id,
+                                    text: item.text
+                                }));
+                                tsEditPart.addOptions(options);
+
+                                const selectedPart = $('#editPartNumberSelect{{ $mapping->id }}')
+                                    .val();
+                                if (selectedPart) tsEditPart.setValue(selectedPart);
+                            });
+                    }
+
+                    // ===============================
+                    // ðŸ”¹ Update Departments
+                    // ===============================
+                    function updateEditDepartments() {
+                        const documentId = tsEditDoc.getValue();
+                        const plant = tsEditPlant.getValue();
+
+                        if (!documentId || !plant) {
+                            tsEditDept.clearOptions();
+                            tsEditDept.disable();
+                            return;
+                        }
+
+                        fetch(
+                                `/api/departments/filter?document_id=${encodeURIComponent(documentId)}&plant=${encodeURIComponent(plant)}`
+                                )
+                            .then(res => res.json())
+                            .then(data => {
+                                if (data.departments && data.departments.length) {
+                                    const options = data.departments.map(dept => ({
+                                        value: dept.id,
+                                        text: dept.name
+                                    }));
+                                    tsEditDept.clearOptions();
+                                    tsEditDept.addOptions(options);
+                                    tsEditDept.enable();
+                                } else {
+                                    tsEditDept.clearOptions();
+                                    tsEditDept.disable();
+                                }
+                            })
+                            .catch(() => {
+                                tsEditDept.clearOptions();
+                                tsEditDept.disable();
+                            });
+                    }
+
+                    // ===============================
+                    // ðŸ”¹ Auto-generate Document Number
+                    // ===============================
                     const docNumberInput = document.getElementById(
                         'editDocumentNumber{{ $mapping->id }}');
 
-                    // kode auto-generate
                     async function generateDocumentNumber() {
                         const docId = tsEditDoc.getValue();
                         const deptId = tsEditDept.getValue();
                         const partId = tsEditPart.getValue();
                         const parentId = tsEditParent.getValue();
 
-                        // Pastikan semua terisi
                         if (!docId || !deptId || !partId) return;
 
                         const params = new URLSearchParams({
